<launch>
  <env name="ROSCONSOLE_FORMAT" value="[${severity}] [${time}] [${logger}] [${node}]: ${message}" />
  <arg name="cloud_planner_url" default="ws://139.196.197.176:30110" />
  <arg name="sim" default="false"/>
  <arg name="odom_topic_name" default="odom"/>
  <arg name="cmd_vel_topic_name" default="cmd_vel"/>

  <include file="$(find ranger_mini_gazebo)/launch/ai_robot_ranger_mini.launch"/>

  <arg name="map_config" default="default.yaml"/>
  <arg name="map_path" default="default.pgm"/>
  <param name="/map_path" value="$(arg map_path)"/>
  <node pkg="map_server" name="map_server" type="map_server" args="$(find ai_robot_core)/map/$(arg map_config)"/>

  <node name="odom2map_tf_pub" pkg="ai_robot_core" type="odom2map_tf_pub" respawn="false" output="screen" unless="$(arg sim)">
  </node>

  <node name="odom2map_tf_pub" pkg="ai_robot_core" type="odom2map_tf_pub" respawn="false" output="screen" if="$(arg sim)">
    <remap from="odom" to="sim_p3at/odom" />
  </node>

  <!-- suppose odom frame is at the same position as the map origin for test -->
  <!-- <node pkg="tf2_ros" type="static_transform_publisher" name="map_to_odom" args="0 0 0 0 0 0 1 map odom"/> -->

  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find ai_robot_core)/config/rviz/test.rviz"/>
</launch>
<!-- vim: set ft=xml noet : -->
